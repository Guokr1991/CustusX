###########################################################
##               Gui library
###########################################################

cx_add_class_qt_moc(cxGui_SRCS
	filterWidgets/cxFilterWidget
	filterWidgets/cxAllFiltersWidget
	#----------------------
	properties/cxDataInterface
	properties/cxShadingParamsInterfaces
    #----------------------
    dataWidgets/cxVolumePropertiesWidget
    dataWidgets/cxVolumeInfoWidget
    dataWidgets/cxShadingWidget
    dataWidgets/cxCroppingWidget
    dataWidgets/cxClippingWidget
    dataWidgets/cxSlicePropertiesWidget
    dataWidgets/cxMeshInfoWidget
    dataWidgets/cxImportDataDialog
    dataWidgets/cxExportDataDialog
    dataWidgets/cxDataViewSelectionWidget
    dataWidgets/cxTransferFunctionWidget
    dataWidgets/cxTransferFunctionAlphaWidget
    dataWidgets/cxTransferFunctionColorWidget
    dataWidgets/cxEraserWidget
    dataWidgets/cxInfoWidget
    dataWidgets/cxTransferFunctionPresetWidget
    dataWidgets/cxOverlayWidget
    dataWidgets/cxColorWidget
    dataWidgets/cxTransferFunction2DColorWidget
    dataWidgets/cxTransferFunction2DOpacityWidget
    dataWidgets/cxImagePropertiesWidget
    dataWidgets/cxStreamPropertiesWidget
    #----------------------
    infoWidgets/cxStatusBar
    infoWidgets/cxPointSamplingWidget
    infoWidgets/cxMetricWidget
    infoWidgets/cxDataMetricWrappers
    infoWidgets/cxSamplerWidget
    infoWidgets/cxFrameMetricWrapper
    infoWidgets/cxToolMetricWrapper
    infoWidgets/cxMetricManager

    #----------------------
    navigationWidgets/cxNavigationWidget
    navigationWidgets/cxTrackPadWidget
    navigationWidgets/cxPlaybackWidget
    #----------------------
    preferencesWidgets/cxPreferencesDialog
    preferencesWidgets/cxToolFilterWidget
    preferencesWidgets/cxToolListWidget
    preferencesWidgets/cxToolConfigureWidget
    preferencesWidgets/cxLayoutEditorWidget
    preferencesWidgets/cxGeneralTab
    preferencesWidgets/cxPreferenceTab
    #----------------------
    streamingWidgets/cxVideoConnectionWidget
    #----------------------
    toolWidgets/cxToolPropertiesWidget
    toolWidgets/cxToolManagerWidget
    #----------------------
    utilities/cxAudioImpl
    utilities/cxToolImagePreviewWidget
	utilities/cxDynamicMainWindowWidgets
	#----------------------
    pluginFrameworkWidgets/cxPluginBrowser
    pluginFrameworkWidgets/cxPluginTableModel
    pluginFrameworkWidgets/cxPluginFrameworkWidget
    #----------------------
    cxMainWindow
	cxMainWindowActions
	cxSecondaryMainWindow
    cxSecondaryViewLayoutWindow
    cxLayoutInteractor
	#----------------------
)

cx_add_class(cxGui_SRCS
	${cxGui_SRCS}
        cxMainWindowApplicationComponent.h
)

#set(cxGui_SRCS ${cxGui_SRCS} ${CustusX_SOURCE_DIR}/source/gui/icons/application.icns) # needed at least on apple to display icon

cx_create_export_header("cxGui")

# generate rules for building source files from the resources
qt5_add_resources(cxResources cxResources.qrc)
if(CX_WINDOWS)
    set(cxResources
        ${cxResources}
        cxResources.h
    )
endif(CX_WINDOWS)

add_library( cxGui ${cxGui_SRCS} ${cxResources})
target_include_directories(cxGui
    PUBLIC
    .
	./filterWidgets
	./properties
    ./dataWidgets
    ./infoWidgets
    ./navigationWidgets
    ./preferencesWidgets
    ./streamingWidgets
    ./toolWidgets
    ./utilities
    ./pluginFrameworkWidgets
    ${CMAKE_CURRENT_BINARY_DIR}
    ${CustusX_SOURCE_DIR}/source/ThirdParty
)
target_link_libraries(cxGui
    PRIVATE
    cxResource
    cxLogicManager
    cxResourceWidgets
    cxResourceVisualization
    cxGUIExtenderService
    cxPluginUtilities
	cxResourceFilter
	)

cx_doc_define_plugin_user_docs("${PROJECT_NAME}" "${CMAKE_CURRENT_SOURCE_DIR}/doc")
cx_add_non_source_file("doc/preferences.md")

add_subdirectory(testing)

